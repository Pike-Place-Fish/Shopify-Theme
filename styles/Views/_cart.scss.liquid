//==============================================================================================
// CART
//----------------------------------------------------------------------------------------------
// Represents styles specific to the Pike Place Fish Market Shopify shopping cart.
//==============================================================================================

//----------------------------------------------------------------------------------------------
// IMPORTS
//----------------------------------------------------------------------------------------------

//----------------------------------------------------------------------------------------------
// VIEW
//----------------------------------------------------------------------------------------------
  .template-cart {

    // Defaults from Timber
    .cart__row {
      position                  : relative;
      margin-top                : $gutter;
      border-top                : 1px solid $colorBorder;
      padding-top               : $gutter;
      &:first-child {
        margin-top              : 0;
      }
      &:first-child {
        padding-top             : 0;
      }
      .js-qty {
        margin                  : 0 auto;
      }
    }
    .cart-table {
      td,
      th {
        border                  : none;
        padding                 : 30px 15px;
      }
      th {
        font-weight             : normal;
      }
    }
    @include at-query ($min, $large) {
      .cart__row--table-large {
        display                 : table;
        table-layout            : fixed;
        width                   : 100%;
        .grid__item {
          display               : table-cell;
          float                 : none;
          vertical-align        : middle;
        }
      }
    }
    .cart__image {
      display                   : block;
      img {
        display                 : block;
        max-width: 100%;
      }
    }
    .cart__subtotal {
      margin                    : 0 0 0 ($gutter / 3);
      display                   : inline;
    }
    .cart__mini-labels {
      display                   : block;
      margin                    : ($gutter / 3) 0;
      font-size                 : em(12px);
      @include at-query ($min, $large) {
        display                 : none;
      }
    }
    .cart__remove {
      display                   : block;
    }

    // Page Chrome
    div.page-container {
      background-color          : $colorBody;
    }

    // Cart Items Table
    .cart__row {
      border-top                : 0 none transparent;
    }

    .cart-table {
      border-width              : 0;

      &.table--responsive {
        @include at-query($max, $preSmall) {
          th,
          td {
            text-align          : left;
          }
          td.thumbnail {
            clear               : left;
            width               : 26%;
          }
          td.details {
            clear               : right;
            width               : 74%;
          }

        }
      }

      .cart__row.table__section {
        @include at-query($min, $small) {
          border-bottom         : 2px solid $colorAccent;
        }
        &:last-child {
          border-bottom         : 0 none transparent;
        }
      }

      thead th,
      tbody td .h3.price {
        font-family             : $interfaceFontStack;
      }

      thead {
        th {
          padding               : ($gutter * 1.5);
          font-size             : em(12px);
          font-weight           : 700;
          text-transform        : uppercase;
          background-color      : $colorAccent;
          @include at-query($max, $preMedium) {
            padding             : $gutter;
          }
        }
      }

      tbody {
        td {
          padding               : ($gutter * 2) ($gutter * 1.5);
          @include at-query($max, $preSmall) {
            padding             : ($gutter / 2);
          }
          @include at-query(null, $small, $preMedium) {
            padding             : $gutter;
          }
          &.thumbnail,
          &.price,
          &.quantity,
          &.total {
            @include at-query($min, 1024px) {
              max-width         : 12.5%;
            }
          }
          &.thumbnail {
            @include at-query($max, $preMedium) {
              vertical-align    : top;
            }
            &:before {
              content           : "" !important;                // Needed to not display "Product" heading on small screens
            }
            img {
              width             : 100%;
              max-width         : 125px;
              @include at-query($max, $preSmall) {
                max-width       : 60px;
              }
              @include at-query(null, $narrow, $preMedium) {
                max-width       : 80px;
              }
            }
          }
          &.details {
            position            : relative;
            padding-left        : ($gutter);
            vertical-align      : top;
            @include at-query($min, 1024px) {
              width             : 50%;
            }
            @include at-query($min, 1280px) {
              width             : 65%;
            }
          }
          &.quantity {
            input {
              max-width         : 64px;
              text-align        : right;
              @include at-query($max, $preSmall) {
                max-width       : 52px;
              }
            }
          }
          &.summary {
            vertical-align      : bottom;
            padding-top         : ($gutter * 1.5);
            padding-bottom      : ($gutter * 1.5);
            @include at-query($min, $medium) {
              padding-top       : ($gutter * 5);
              padding-bottom    : ($gutter * 5);
            }
          }

          div.title {
            h4 {
              margin-bottom     : 0;
              color             : $colorTextBody;
              text-transform    : none;
            }
          }

          div.actions {
            @include at-query($min, $medium) {
              position          : absolute;
              bottom            : ($gutter * 2);
            }
            a {
              display           : inline-block;
              margin-right      : ($gutter);
              font-family       : 'Cabin Semibold', $bodyFontStack;
              color             : $colorLink;
              text-transform    : uppercase;
            }
          }

          .h3.price {
            display             : inline-block;
            font-size           : em(14px);
            font-weight         : 600;
            white-space         : nowrap;
          }
        }
      }

    }

    // Variant and Custom Property Specifications
    ul.specifications {
      margin                    : ($gutter / 2) 0 ($gutter / 2) 16px;
      padding                   : 0;
      font-family               : $interfaceFontStack;
      font-size                 : em(12px);
      line-height               : 140%;
      li {
        margin-bottom           : 0.15em;
      }
    }

    // Gift Settings
    .gift-settings {
      padding                   : 10px 15px !important;
      label {
        display                 : block;
        input[type="checkbox"] {
          display               : inline-block;
          position              : relative;
          top                   : 2px;
        }
        &.label-left {
          input[type="checkbox"] {
            margin              : 0 0 0 5px;
          }
        }
      }
      .gift-message {
        label {
          margin-bottom         : 5px;
        }
      }
    }

    // Summary Information
    .summary {
      font-family               : $interfaceFontStack;
      a[class*="btn"],
      input[type="submit"] {
        margin-top              : ($gutter * 2);
        min-width               : 125px;
        font-size               : em(12.5px);
        @include at-query($max, $preMedium) {
          display               : inline-block;
          margin                : ($gutter * 2) auto 0;
        }
      }
      /*
      input[type="submit"] {
        @include at-query($max, $preMedium) {
          display               : inline-block;
          margin-bottom         : $gutter;
        }
      }
      */
      .btn-container {
        @include at-query($min, $medium) {
          display               : inline-block;
        }
      }
      .medium-down--show {
        .order-weight-heading {
          padding-top           : ($gutter * 1.5);
        }
        .order-weight-disclaimer {
          padding-bottom        : ($gutter * 1.5);
        }
      }
    }
    h3,
    p {
      margin-bottom             : 0;
      &.order-weight-heading,
      &.order-weight-disclaimer {
        color                   : $colorPrimary;
      }
      &.order-weight-heading {
        text-transform          : uppercase;
      }
      &.order-weight-disclaimer {
        span.packaging-disclaimer {
          display               : none;
        }
      }
    }
    h3 {
      margin-top                : 0;
    }
    .shipping-note {
      font-size                 : em(12px);
      font-weight               : 400;
    }
    .spacer {
      @include at-query($min, $medium) {
        clear                   : left;
      }
    }

    // Delivery Date Selection
    .delivery-date {
      padding-top               : ($gutter / 2);
      @include at-query($min, $large) {
        padding-top             : ($gutter * 1.5);
      }
      input {
        padding                 : 2px 30px 2px 5px;
        font-family             : $interfaceFontStack;
        font-size               : $baseFontSize;
        background              : $colorBody url({{ 'Icon.Calendar.png' | asset_url }}) no-repeat 95% 1px;
        background-size         : auto 20px;
      }
      div.day-warning,
      div.delay-warning {
        display                 : none;
        color                   : $errorRed;
      }
    }
    div.ui-datepicker.ui-widget,
    div.ui-datepicker-header.ui-widget-header {
      border-radius             : 0 !important;                 // !important needed for header
      border-color              : $colorBorder !important;
    }
    div.ui-datepicker-header.ui-widget-header {
      background                : $colorAccent2;
    }
    .ui-datepicker-calendar {
      td {
        &.ui-datepicker-disabled {
          span.ui-state-default {
            border-color        : $colorAccent2;
            background          : $colorAccent2;
          }
        }
        a {
          &.ui-state-default {
            border-color        : rgb(235, 237, 237);
            color               : $colorTextBody;
            background          : $colorAccent;
          }
          &.ui-state-hover {
            border-color        : $colorSecondary;
            color               : $colorSecondary;
            background          : rgb(229, 229, 229);
          }
        }
      }
      td.day-warning {
        a {
          border-color          : $errorRed;
        }
      }
    }

  }
