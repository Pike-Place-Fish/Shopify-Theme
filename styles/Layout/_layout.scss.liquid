//==============================================================================================
// LAYOUT
//----------------------------------------------------------------------------------------------
// Provides structural definitions for the site's layout, such grids, dimensions, positioning,
// z-indexes, margins, and padding.
//----------------------------------------------------------------------------------------------
// IMPORTANT: Skinning attributes such as font size, color, backgrounds, and gradients should
// not be defined in layout; these should be handled elsewhere (e.g., /Base) to maintain
// separation of concerns.
//----------------------------------------------------------------------------------------------
// NOTE: Since layout sections often map to exclusive parts of a page, it is acceptable to
// use #ID selectors here (and ONLY here).
//----------------------------------------------------------------------------------------------
// NOTE: Layouts in this file should be migrated to individual files under /Layout and imported
// if they get too long (say, over 10 selectors).
//==============================================================================================

//----------------------------------------------------------------------------------------------
// IMPORTS
//----------------------------------------------------------------------------------------------
  @import "_grid.scss.liquid";

//----------------------------------------------------------------------------------------------
// DOCUMENT
//----------------------------------------------------------------------------------------------
  html,
  body {
    position                    : relative;
    width                       : 100%;
    height                      : 100%;
    min-height                  : 100%;
  }

//----------------------------------------------------------------------------------------------
// HEADER
//----------------------------------------------------------------------------------------------
  .site-header {
    padding                     : ($gutter * 1.5) 0 ($gutter / 2);
    @include at-query ($max, $medium) {                         // New
      padding                   : 0;
    }
    .wrapper {
      @include at-query ($min, $large) {
        padding                 : 0 45px;                       // Was ($gutter / 2)
      }
    }
    .grid--table {
      display                   : table;
      table-layout              : fixed;
      width                     : 100%;
      > .grid__item {
        display                 : table-cell;
        float                   : none;
        vertical-align          : middle;
        // Ancillary Nav (Social Icons, Cart, Account, Search)
        div {
          display               : inline-block;
        }
      }
    }
  }

//----------------------------------------------------------------------------------------------
// NAVIGATION
//----------------------------------------------------------------------------------------------
  .nav-bar {
    padding                     : $gutter 0 ($gutter * 1.5);    // New
    @include at-query($max, $large) {
      padding-bottom            : ($gutter / 2);                // New
    }
  }
  .site-nav {
    margin                      : ($gutter * 1.5) 0 ($gutter / 2) (-$gutter / 2);  // Was 0 0 0 (-$gutter / 2)
  }

  // Nav Dropdowns
  .site-nav__dropdown {
    z-index                     : $zindexNavDropdowns;
    display                     : none;                         // New
    position                    : absolute;
    left                        : 0;
    margin                      : 0;
  }

  // Search Bar in Navivation
  .nav-search {
    position                    : relative;
    padding                     : 10px 0;
    @include at-query ($max, $medium) {
      margin                    : 0 auto;
      padding                   : 0 0 ($gutter / 2);
    }
  }

  // Mobile Navigation
  .mobile-nav {
    // Negative of .drawer left/right padding for full-width link tap area
    margin                      : (-$gutter / 2) (-$gutter / 2) 0 (-$gutter / 2);
  }

//----------------------------------------------------------------------------------------------
// DRAWERS
//----------------------------------------------------------------------------------------------
  .js-drawer-open {
    overflow                    : hidden;
    height                      : 100%;
  }
  .drawer {
    z-index                     : $zindexDrawer;
    display                     : none;
    position                    : fixed;
    top                         : 0;
    bottom                      : 0;
    overflow-x                  : hidden;
    overflow-y                  : auto;
    -webkit-overflow-scrolling  : touch;
    padding                     : 0 0 ($gutter / 2);            // Was 0 ($gutter / 2) ($gutter / 2)
    max-width                   : 95%;
  }
  .drawer--left {
    left                        : -$drawerNavWidth;
    width                       : $drawerNavWidth;
  }
  .drawer--right {
    right                       : -$drawerCartWidth;
    width                       : $drawerCartWidth;
  }

//----------------------------------------------------------------------------------------------
// PRIMARY CONTENT AREA
//----------------------------------------------------------------------------------------------
  div.page-container {
    position                    : absolute;
    width                       : 100%;
    min-height                  : 100%;
  }
  .wrapper {
    @include clearfix();
    max-width                   : $siteWidth;
    margin                      : 0 auto;
    padding                     : 0 ($gutter / 2);
    @include at-query ($min, $small) {
      padding                   : 0 ($gutter * 1.5);            // Was $gutter
    }
    // New
    @include at-query ($min, $medium) {
      padding                   : 0 $gutter;
    }
  }
  .main-content {
    display                     : block;
  //margin-top                  : ($gutter * 3);                // Was $gutter
    padding-top                 : ($gutter * 2);
    padding-bottom              : ($gutter * 2);
    // New
    @include at-query ($max, $preMedium) {
      padding                   : ($gutter * 2) 18px;
    }
    @include at-query ($min, $large) {
      padding                   : 45px;
    }
  }

//----------------------------------------------------------------------------------------------
// FOOTER
//----------------------------------------------------------------------------------------------
  .site-footer {
    position                    : absolute;                     // New
    bottom                      : 0;                            // New
    left                        : 0;                            // New
    padding                     : $gutter 0;
    width                       : 100%;                         // New
  }
